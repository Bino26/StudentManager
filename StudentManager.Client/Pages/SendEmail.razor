@page "/admin/sendemail"

@inject NavigationManager navigationManager

<MudContainer>
    <MudTextField @bind-Value="email" Label="Email" Variant="Variant.Outlined"></MudTextField>
    <MudButton OnClick="SendInvitation" Color="Color.Primary">Send Invitation</MudButton>
</MudContainer>

@code {
    private string email;

    private async Task SendInvitation()
    {
        var token = Guid.NewGuid().ToString();
        var invitation = new Invitation
            {
                Email = email,
                Token = token,
                CreatedAt = DateTime.Now,
                IsUsed = false
            };


        var callbackUrl = navigationManager.ToAbsoluteUri($"/register?token={token}");
        var body = $"<a href='{callbackUrl}'>Click here to register</a>";

       
    }
}
